<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.9.1 from src/site/xdoc/operate/index.xml.vm at 2020-02-17
 | Rendered using Apache Maven Fluido Skin 1.8
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 1.9.1" />
    <meta name="author" content="Paul Ramirez" />
    <meta name="author" content="Sean Hardman" />
    <title>PDS4 JParser &#x2013; Operation</title>
    <link rel="stylesheet" href="../css/apache-maven-fluido-1.8.min.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />
    <script src="../js/apache-maven-fluido-1.8.min.js"></script>
  </head>
  <body class="topBarDisabled">
    <div class="container-fluid">
      <header>
        <div id="banner">
          <div class="pull-left"><a href="https://github.com/NASA-PDS-Incubator/pds4-jparser" id="bannerLeft"><img src="../images/pds4_logo.png"  alt=""/></a></div>
          <div class="pull-right"><div id="bannerRight"><h2>PDS4 JParser</h2>
</div>
</div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2020-02-17<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 1.4.2</li>
      <li class="pull-right"><a href="https://github.com/NASA-PDS-Incubator/pds4-jparser" class="externalLink" title="PDS4 JParser Github Repo">PDS4 JParser Github Repo</a></li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span2">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header">Software Documentation</li>
    <li><a href="../index.html" title="About PDS4 JParser"><span class="none"></span>About PDS4 JParser</a></li>
    <li><a href="../install/index.html" title="Installation"><span class="none"></span>Installation</a></li>
    <li><a href="../develop/index.html" title="Development"><span class="none"></span>Development</a></li>
    <li class="active"><a href="#"><span class="none"></span>Operation</a></li>
   <li class="nav-header">Downloads</li>
    <li><a href="https://github.com/NASA-PDS-Incubator/pds4-jparser/releases/download/v1.4.2/pds4-jparser-1.4.2-bin.tar.gz" class="externalLink" title="Current Release (tar.gz)"><span class="none"></span>Current Release (tar.gz)</a></li>
    <li><a href="https://github.com/NASA-PDS-Incubator/pds4-jparser/releases/download/v1.4.2/pds4-jparser-1.4.2-bin.zip" class="externalLink" title="Current Release (zip)"><span class="none"></span>Current Release (zip)</a></li>
    <li><a href="https://pds-engineering.jpl.nasa.gov/development/pds4/current/release/rdd.html" class="externalLink" title="Past Releases"><span class="none"></span>Past Releases</a></li>
   <li class="nav-header">Change Log</li>
    <li><a href="https://github.com/NASA-PDS-Incubator/pds4-jparser/blob/v1.4.2/CHANGELOG.md#v1.4.2" class="externalLink" title="Since v1.0.1"><span class="none"></span>Since v1.0.1</a></li>
    <li><a href="../changes-report.html" title="Prior to v1.0.1"><span class="none"></span>Prior to v1.0.1</a></li>
   <li class="nav-header">Project Documentation</li>
    <li><a href="../project-info.html" title="Project Information"><span class="icon-chevron-right"></span>Project Information</a></li>
    <li><a href="../project-reports.html" title="Project Reports"><span class="icon-chevron-right"></span>Project Reports</a></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
            <hr />
            <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
<a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="../images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </header>
        <main id="bodyColumn"  class="span10" >

  
    <section>
<h2><a name="Operation"></a>Operation</h2>
      
<p>This document describes how to operate the Extract Table tool. The software extracts tabular data from a PDS4 product and writes it to an output file or the console, in fixed-width or CSV format. It can also list the tables and fields present. If multiple tables are present in the product, a table can be selected. The output format can also be set to fixed-width text or CSV, and the output line and field separators can be set to desired values.
      </p>
      
      
<p>The following topics can be found in this document:
      </p>

      
<ul>
        
<li><a href="#Quick_Start">Quick Start</a></li>
        
<li><a href="#Command-Line_Options">Command-Line Options</a></li>
        
<li><a href="#Advanced_Usage">Advanced Usage</a></li>
      </ul>
    </section>
    
    
<p>The command-line examples below reference example PDS4 products which can be found in the <i>examples/data/</i> folder of the PDS4 Tools release package. Also, the command-line examples have been broken into multiple lines for readability. The commands should be reassembled into a single line prior to execution.
    </p>
    
    <section>
<h2><a name="Quick_Start"></a>Quick Start</h2>
      
<p>This section is intended to give a quick and easy way to run the Extract Table Tool. For a more detailed explanation on other ways to run the tool, go to the <a href="#Advanced_Usage">Advanced Usage</a> section.
      </p>
           
      
<p>The command below shows how to extract tabular data from a PDS4 product:
      </p>
      
      
<div class="source"><pre class="prettyprint">
%&gt; extract-table Product_Table_Character.xml
      </pre></div>
      
      
<p>To format the data into Comma-Separated Value (CSV) format and output the results into a file, run the command below using the <i>-c</i> and <i>-o</i> flag options:
      </p>
      
      
<div class="source"><pre class="prettyprint">
%&gt; extract-table Product_Table_Character.xml -c -o product_table_character.csv
      </pre></div>
    </section>
    
    <section>
<h2><a name="Command-Line_Options"></a>Command-Line Options</h2>
      
<p>The following table describes the command-line options available to the tool:
      </p>
      
      
<table border="0" class="table table-striped">
        
<tr class="a">
<th>Command-Line Option</th>
<th>Description</th></tr>
        
<tr class="b">
<td>-c, --csv</td>
<td>Output in CSV format</td></tr>
        
<tr class="a">
<td>-f, --fields &lt;FIELD_LIST&gt;</td>
<td>Comma-separated list of field names or numbers to extract. Default is to extract all fields.</td></tr>
        
<tr class="b">
<td>-l, --list-tables</td>
<td>List tables present in the product.</td></tr>
        
<tr class="a">
<td>-n, --index &lt;NUMBER&gt;</td>
<td>Select the table to extract if more than one table is present (1...N). Default is to extract data from the first table.</td></tr>
        
<tr class="b">
<td>-d, --data-file &lt;FILE&gt;</td>
<td>Specify the data file name of the table to extract. Default is to extract table data from the first data file specified in the product label.</td></tr>
        
<tr class="a">
<td>-a, --all</td>
<td>Specify to extract data from all tables and all data files found in the product label. Default is to extract data from the first table and first data file.</td></tr>
        
<tr class="b">
<td>-o, --output-file &lt;FILE&gt;</td>
<td>Specify the output file name. Default is to output the data to standard out.</td></tr>
        
<tr class="a">
<td>-P, --platform</td>
<td>Output the data using the target platform line separator. This is the default behavior.</td></tr>
        
<tr class="b">
<td>-q, --quote-character &lt;CHAR&gt;</td>
<td>Quote character for CSV output. Default is to use the double-quote, <i>&quot;</i>, character.</td></tr>
        
<tr class="a">
<td>-t, --field-separator &lt;SEP&gt;</td>
<td>Specify the output field separator. Default is a space for fixed-with tables, or comma for CSV output.</td></tr>
        
<tr class="b">
<td>-U, --unix</td>
<td>Specify this flag to output the table using Unix line separator (LF).</td></tr>
        
<tr class="a">
<td>-w, --fixed-width</td>
<td>Specify this flag to output the table in fixed-width format. (default behavior)</td></tr>
        
<tr class="b">
<td>-W, --windows</td>
<td>Specify this flag to output the table using Windows line separators. (CRLF)</td></tr>
        
<tr class="a">
<td>-h, --help</td>
<td>Display Tool usage.</td></tr>
      </table>
    </section>
    
    <section>
<h2><a name="Advanced_Usage"></a>Advanced Usage</h2>
      
<p>This section describes more advanced ways to run the tool, as well as its behaviors and caveats.
      </p>
      
      <section>
<h3><a name="Tool_Execution"></a>Tool Execution</h3>
        
<p>This section demonstrates some of the ways that the tool can be executed using the command-line option flags:
        </p>
        
        
<ul>
          
<li>Extracting Table Data From Multiple Tables</li>
          
<li>Extracting Table Data From Multiple Data Files</li>
          
<li>Extracting Specific Fields From a Table</li>
          
<li>Specifying Another Field Separator</li>
        </ul>
        
        
<p><b><i>Extracting Table Data From Multiple Tables</i></b></p>
        
        
<p>For PDS4 data product labels containing more than 1 table, the default behavior of the tool is to extract the 1st table found. To select specific tables, use the <i>-n</i> flag option.
        </p>
        
        
<p>The following command lists all tables found in the data product label:
        </p>
        
        
<div class="source"><pre class="prettyprint">
% extract-table ~/transform-1.4.0-dev/examples/Product_Table_Multiple_Tables.xml -l
        
  file: PDS4_ATM_TABLE_CHAR_MULTIPLE.TAB
    table 1: fixed-width character table
      field 1: SOL (ASCII_Integer)
      field 2: LTST (ASCII_Real)
      field 3: LMST (ASCII_Real)
      field 4: V (ASCII_Real)
      field 5: DV+ (ASCII_Real)
      field 6: DV- (ASCII_Real)
      field 7: DIR (ASCII_Real)
      field 8: DDIR (ASCII_Real)
      field 9: EXPOSURE TIME (ASCII_Real)
      field 10: FILE NAME (ASCII_File_Name)
    table 2: fixed-width character table
      field 1: SOL (ASCII_Integer)
      field 2: LTST (ASCII_Real)
      field 3: LMST (ASCII_Real)
      field 4: V (ASCII_Real)
      field 5: DV+ (ASCII_Real)
      field 6: DV- (ASCII_Real)
      field 7: DIR (ASCII_Real)
      field 8: DDIR (ASCII_Real)
      field 9: EXPOSURE TIME (ASCII_Real)
      field 10: FILE NAME (ASCII_File_Name)
        </pre></div>
        
        
<p>The following command extracts the table data from the 2nd table:
        </p>
        
        
<div class="source"><pre class="prettyprint">
% extract-table ~/transform-1.4.0-dev/examples/Product_Table_Multiple_Tables.xml -n 2
        </pre></div>
        
        
<p><b><i>Extracting Table Data From Multiple Data Files</i></b></p>
        
        
<p>For PDS4 data product labels containing tables located in more than 1 data file, the default behavior of the tool is to extract the 1st table in the 1st data file found. To select a specific table from a specific data file, use the <i>-d</i> flag option.
        </p>
        
        
<p>The following command lists all tables found in the data product label:
        </p>
        
        
<div class="source"><pre class="prettyprint">
% extract-table Product_Table_Multiple_Datafiles.xml -l


file: PDS4_ATM_TABLE_CHAR.TAB
  table 1: fixed-width character table
    field 1: SOL (ASCII_Integer)
    field 2: LTST (ASCII_Real)
    field 3: LMST (ASCII_Real)
    field 4: V (ASCII_Real)
    field 5: DV+ (ASCII_Real)
    field 6: DV- (ASCII_Real)
    field 7: DIR (ASCII_Real)
    field 8: DDIR (ASCII_Real)
    field 9: EXPOSURE TIME (ASCII_Real)
    field 10: FILE NAME (ASCII_File_Name)

file: PDS4_TABLE_DELIMITED.csv
  table 1: delimited table
    field 1: CHANNEL_NUMBER (ASCII_Integer)
    field 2: SPECTRA_01 (ASCII_Integer)
    field 3: SPECTRA_02 (ASCII_Integer)
    field 4: SPECTRA_03 (ASCII_Integer)
    field 5: SPECTRA_04 (ASCII_Integer)
    field 6: SPECTRA_05 (ASCII_Integer)
    field 7: SPECTRA_06 (ASCII_Integer)
    field 8: SPECTRA_07 (ASCII_Integer)
    field 9: SPECTRA_08 (ASCII_Integer)
    field 10: SPECTRA_09 (ASCII_Integer)
    field 11: SPECTRA_10 (ASCII_Integer)
    field 12: SPECTRA_11 (ASCII_Integer)
    field 13: SPECTRA_12 (ASCII_Integer)

file: 2d234493326edratf3d2537n0m1.dat
  table 1: fixed-width binary table
    field 1: SCLK_SECONDS (UnsignedMSB4)
    field 2: SCLK_SUBSECONDS (UnsignedMSB2)
    field 3: SPARE (UnsignedMSB2)
    field 4: ROTATION_MOTOR_POSITION (IEEE754MSBDouble)
    field 5: ROTATION_MOTOR_CURRENT_SENSOR (IEEE754MSBDouble)
    field 6: REVOLUTION_MOTOR_POSITION (IEEE754MSBDouble)
    field 7: REVOLUTION_MOTOR_CURRENT_SENSOR (IEEE754MSBDouble)
    field 8: Z_MOTOR_POSITION (IEEE754MSBDouble)
    field 9: Z_MOTOR_CURRENT_SENSOR (IEEE754MSBDouble)
    field 10: TEMPERATURE_SENSOR (IEEE754MSBDouble)
    field 11: BUTTERFLY_SWITCH_1 (UnsignedMSB4)
    field 12: BUTTERFLY_SWITCH_2 (UnsignedMSB4)
    field 13: RAT_OVER_CURRENT_ALARM (UnsignedMSB4)
    field 14: Z_AXIS_MOTOR_CONTROLLER_STATUS (UnsignedByte)
    field 15: REVOLVE_MOTOR_CONTROLLER_STATUS (UnsignedByte)
    field 16: GRIND_MOTOR_CONTROLLER_STATUS (UnsignedByte)
    field 17: SPARE (UnsignedByte)
    field 18: ROVER_BUS_VOLTAGE (IEEE754MSBDouble)
    field 19: ALGORITHM_STATE (UnsignedMSB4)
    field 20: ANOMALY_FLAG (UnsignedMSB4)
        </pre></div>
      
        
<p>The following command extracts the table located in the data file <i>PDS4_TABLE_DELIMITED.csv</i>: 
        </p>
        
        
<div class="source"><pre class="prettyprint">
% extract-table Product_Table_Multiple_Datafiles.xml -d PDS4_TABLE_DELIMITED.csv
        </pre></div>
        
        
<p>To extract all tables from all the data files, run the following command:
        </p>
        
        
<div class="source"><pre class="prettyprint">
% extract-table Product_Table_Multiple_Datafiles.xml -a
        </pre></div>
        
        
<p><b><i>Extracting Specific Fields From a Table</i></b></p>
        
        
<p>To extract specific fields from the table, use the <i>-f</i> flag option.
        </p>
        
        
<p>The example table product consists of the following fields:
        </p>
        
        
<div class="source"><pre class="prettyprint">
% extract-table Product_Table_Character.xml -l

file: PDS4_ATM_TABLE_CHAR.TAB
  table 1: fixed-width character table
    field 1: SOL (ASCII_Integer)
    field 2: LTST (ASCII_Real)
    field 3: LMST (ASCII_Real)
    field 4: V (ASCII_Real)
    field 5: DV+ (ASCII_Real)
    field 6: DV- (ASCII_Real)
    field 7: DIR (ASCII_Real)
    field 8: DDIR (ASCII_Real)
    field 9: EXPOSURE TIME (ASCII_Real)
    field 10: FILE NAME (ASCII_File_Name)
        </pre></div>
        
        
<p>The following command extracts field 5:
        </p>
        
        
<div class="source"><pre class="prettyprint">
% extract-table Product_Table_Character.xml -f 5 
        </pre></div>
        
        
<p>Specify a comma-separated list to extract multiple fields. The following command extracts field 5 and field 9:
        </p>
        
        
<div class="source"><pre class="prettyprint">
% extract-table Product_Table_Character.xml -f 5,9 
        </pre></div>
        
        
<p><b><i>Specifying Another Field Separator</i></b></p>
        
        
<p>The <i>-t</i> flag option provides the capability to specify another field separator in the output. The default is to use a space for fixed-width tables and to use a comma for CSV output.
        </p>
        
        
<p>The following command tells the tool to output the table using the vertical bar character as the field separator:
        </p>
        
        
<div class="source"><pre class="prettyprint">
% extract-table ../examples/data/Product_Table_Character.xml -t '\|'
        </pre></div>
        
        
<p>Note that the backslash character preceding the vertical bar character is needed in order to pass in the vertical bar character properly into the tool. This, along with the single quotes surrounding the value, is needed so that the shell interpreter will treat this character as a string literal.
        </p>
        
      </section>
    </section>    
  

        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>Copyright &#169;      2020..</p>
        </div>
      </div>
    </footer>
  </body>
</html>
